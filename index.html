<!DOCTYPE html>
<html>
<head>
    <title>Simple Dash Racer</title>
    <style>
        body { margin: 0; background: #333; overflow: hidden; font-family: sans-serif; }
        #game-track { 
            width: 300px; height: 100vh; background: #555; 
            margin: 0 auto; position: relative; border-left: 5px dashed white; border-right: 5px dashed white;
        }
        #car { 
            width: 40px; height: 70px; background: #ff4757; 
            position: absolute; bottom: 20px; left: 130px; border-radius: 5px;
            box-shadow: 0 0 10px rgba(0,0,0,0.5);
        }
        .enemy { 
            width: 40px; height: 70px; background: #2f3542; 
            position: absolute; top: -100px; border-radius: 5px;
        }
        #score { position: absolute; top: 20px; left: 20px; color: white; font-size: 24px; }
    </style>
</head>
<body>

    <div id="score">Score: 0</div>
    <div id="game-track">
        <div id="car"></div>
    </div>

    <script>
        const car = document.getElementById('car');
        const track = document.getElementById('game-track');
        const scoreElement = document.getElementById('score');
        
        let carPos = 130;
        let score = 0;
        let speed = 5;
        let gameActive = true;

        // 1. Movement Control
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowLeft' && carPos > 10) carPos -= 20;
            if (e.key === 'ArrowRight' && carPos < 250) carPos += 20;
            car.style.left = carPos + 'px';
        });

        // 2. Create Obstacles
        function createEnemy() {
            if (!gameActive) return;
            let enemy = document.createElement('div');
            enemy.classList.add('enemy');
            enemy.style.left = Math.floor(Math.random() * 250) + 'px';
            track.appendChild(enemy);

            let enemyPos = -100;
            let interval = setInterval(() => {
                if (!gameActive) { clearInterval(interval); return; }
                
                enemyPos += speed;
                enemy.style.top = enemyPos + 'px';

                // 3. Collision Detection
                let carRect = car.getBoundingClientRect();
                let enemyRect = enemy.getBoundingClientRect();

                if (carRect.left < enemyRect.right && carRect.right > enemyRect.left &&
                    carRect.top < enemyRect.bottom && carRect.bottom > enemyRect.top) {
                    gameActive = false;
                    alert("Game Over! Score: " + score);
                    location.reload();
                }

                // 4. Scoring
                if (enemyPos > window.innerHeight) {
                    score++;
                    scoreElement.innerText = "Score: " + score;
                    enemy.remove();
                    clearInterval(interval);
                    if (score % 5 === 0) speed += 1; // Speed up!
                }
            }, 20);
        }

        setInterval(createEnemy, 1500);
    </script>
</body>
</html>
